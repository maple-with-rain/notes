## 函数空间

函数空间是一类特殊的矢量空间：空间的元素是函数，更确切地说，是定义在一定区间（可以是有界区间、无界区间或半无界区间，为确定起见，以下不妨写为 $a\leqslant x\leqslant b$ ）上的==复值平方可积==函数 $f(x)$ （即积分 $\int_a^b|f(x)|^2$d$x$ 存在）

> 这里复值平方可积是有必要的，能够保证矢量和仍位于该空间以及下面内积定义的有效性
>
> 因为
> $$
> \begin{gathered}\left|f_{1}(x)+f_{2}(x)\right|^{2}+\left|f_{1}(x)-f_{2}(x)\right|^{2}\\=2\left[\left|f_{1}(x)\right|^{2}+\left|f_{2}(x)\right|^{2}\right]\end{gathered}
> $$
> 进而得到
> $$
> |f_1(x)+f_2(x)|^2\leqslant2\left[|f_1(x)|^2+|f_2(x)|^2\right]
> $$
> 因此两矢量之和仍位于该空间

> 🤔这玩意和真正意义上的可积不一样啊😂
>
> 这鸟玩意不是平方积分存在的必要不充分条件吗❓
>
> 算了，首先我们默认物理常用的假设$f^2(x)$必定是一个连续的玩意



## 函数的内积

设 $f_1(x)$ 和 $f_2(x)$ 是函数空间中的两个函数，它们的内积是 
$$
(f_1,f_2)=\int_a^bf_1^*(x)f_2(x)dx\tag{2.1}
$$

> 对于积分的存在性：
> $$
> \abs{f_1}^2+\abs{f_2}^2-2\abs{f_1}\cdot\abs{f_2}=(\abs{f_1}-\abs{f_2})^2\ge0
> $$
> 进而得到
> $$
> \abs{f_1}\cdot\abs{f_2}\le\frac{\abs{f_1}^2+\abs{f_2}^2}{2}
> $$
> 由此得到上述内积的积分存在
>
> > 🤔这真的不严谨吧❓❓❓只能保证积分不发散吧❓❓❓

在此基础上，可以定义函数 $f(x)$ 的==范数==
$$
\|f\|=(f,f)^{1/2}\tag{2.2}
$$

+ 在此定义下，如果$(f,f)=0$，并不能得出$f\equiv0$的结论，可以在有限个点（测度为零的点集）上取非零值，条件仍然成立
+ 因此，我们采用广义零函数的概念，把任何几乎处处为0的函数称为零函数,那么,这里定义的内积也就符合内积公理中的第3条要求

### 推广

显然，函数的内积的定义可以进一步推广为
$$
(f_1,f_2)_\rho=\int_a^bf_1^*(x)f_2(x)\rho(x)\mathrm{d}x\tag{2.3}
$$
其中 $\rho(x)\geqslant0$ ，且 $\rho(x)\not\equiv0$ ，称为权函数

不过需要对函数平方可积的要求进行修改，要求积分
$$
\int_a^b\left|f(x)\right|^2\rho(x)\mathrm{d}x\tag{2.4}
$$
存在



##函数的正交归一性

若函数$f(x)$ 和 $g(x)$ 满足
$$
(f,g)\equiv\int_{a}^{b}f^{*}(x)g(x)\mathrm{d}x=0\tag{2.3}
$$
则称它们（在区间 $[a,b]$ 上）正交

若
$$
(f,f)\equiv\int_a^bf^*(x)f(x)\mathrm{d}x=1\quad\text{亦即}\quad\|f\|=1
$$
则称 $f(x)$ 是归一化的

合并起来，若对于函数集合 $\{f_i\}$ ，恒有
$$
(f_i,f_j)\equiv\int_a^bf_i^*(x)f_j(x)\mathrm{d}x=\delta_{ij}\tag{2.4}
$$
则称此函数集合正交归一



## 正交归一函数集的完备性

若对于（函数空间中的）任意函数$f(x)$ ，总可以表示称正交故意函数及 $\{f_i,i=1,2,\cdots\}$ 的线性组合
$$
f(x)=\sum_{i=1}^\infty c_if_i(x)\tag{2.5}
$$
则称正交归一函数集 $\{f_i,i=1,2,\cdots\}$ 是完备的

+ 正交归一函数集的完备性概念总是和任意函数是否可以按该函数集展开相联系的

  > 这里隐含了函数集为可数集的假设

+ 展开式应该对区间 $[a,b]$ 内的每一点 $x$ 都成立，或者说，对于区间 $[a,b]$ 内每一点 $x$ ，级数 $\sum_{i=1}^{\infin}c_if_i(x)$都收敛于 $f(x)$ （==逐点收敛==）

+ 考虑到广义零函数的概念，我们可以认为$(2.5)$两端可以相差一个广义的零函数，即级数平均收敛于$f(x)$
  $$
  \operatorname*{lim}_{n\to\infty}\int_{a}^{b}\left|f(x)-\sum_{i=1}^{n}c_{i}f_{i}(x)\right|^{2}\mathrm{d}x=0\tag{2.6}
  $$

+ 系数可以由函数集的正交归一性得出

+ 已知
  $$
  \begin{aligned}
  &\int_a^b|f(x)-\sum_{i=1}^nc_if_i(x)|^2\mathrm{d}x\\
  &=(f,f)-\sum_{i=1}^nc_i^*(f_i,f)-\sum_{i=1}^nc_i(f,f_i)+\sum_{i=1}^n\left|c_i\right|^2\\
  &=(f,f)-\sum_{i=1}^n\left|c_i\right|^2
  \end{aligned}
  \tag{2.7}
  $$
  因此，只要函数集是完备的，根据级数的平均收敛性，就有
  $$
  (f,f)=\sum_{i=1}^\infty\left|c_n\right|^2=\sum_{i=1}^\infty\left|(f_i,f)\right|^2\tag{2.8}
  $$
  这就是函数集的完备性关系（Parseval 方程）



##函数的最佳逼近

设有一正交归一但不一定完备的函数集 $\{f_i,i=1,2,\cdots\}$ 考虑使用 $\sum_{i=1}^na_if_i(x)$ 来逼近 $f(x)$ 使得误差
$$
\left|f(x)-\sum_{i=1}^na_if_i(x)\right|^2\equiv\int_a^b\left|f(x)-\sum_{i=1}^na_if_i(x)\right|^2\mathrm{d}x\tag{2.9}
$$

> PS，前面那个是范数，后面那个是绝对值

最小，考虑正交性，容易证明，当 $a_i=c_i$ 时取到最小误差
$$
(f,f)-\sum_{\mathrm{I}\quad i=1}^n\left|c_i\right|^2\geqslant0\tag{2.10}
$$
显然，随着项数 $n$ 的增加，误差越来越小，且总有函数空间中的 Besse l不等式：
$$
(f,f)\geqslant\sum_{i=1}^\infty\left|c_i\right|^2\tag{2.11}
$$
等号成立于函数集完备的情况

> 🤔这里的观点和最小二乘法那边挺相似的，不过和数分那边对最小二乘法的误差解释有所不同



## 函数空间的完备性

如果由空间内的函数组成的==Cauchy 序列的极限==仍保持在该空间内，则称该空间为完备的

+ 平方可积函数构成的空间是完备的
+ 通常，把完备的内积空间称为==Hilbert 空间==。这个概念，特别是==可分的 Hilbert 空间==（此时空间的基是可数的），在物理学中有广泛应用

